---
title: Persisted Trait and Id
group: doc
layout: doc
comments: true
---

All the entities returned from db have a `Persisted` trait with an appropriate value of `id` mixed in. This is what lets SORM decide whether to `INSERT` rows or `UPDATE` them (and which ones) when the `save` operation is called. This also provides you access its generated `id`.

Since the `id` property value is meant to be generated by database, it is protected from the user of being able to manually specify it as well as letting the case classes have such a property.

So, instead of 
    
    case class Artist ( id : Long, name : String )

you should use 

    case class Artist ( name : String )

and let SORM take care of `id` property management for you.

##What should you do when you need to get the `id` of an entity?

Just do

    artist.id

but for you to be able to do that the `artist` value must have a `Persisted` trait mixed in (i.e., have a type `Artist with Persisted`), which can happen only in three cases:

1. When you store the value in the db:

        val artist = Db.save(Artist("Metallica")) 
    
2. When you fetch it from the db:

        val artist = Db.access[Artist].whereEqual("name", "Metallica").fetchOne().get

3. When you make a copy of an already persisted entity:

        val artist = someOtherPersistedArtist.copy(name = "METALLICA")